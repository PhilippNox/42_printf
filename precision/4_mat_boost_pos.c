/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   4_mat_boost_pos.c                                  :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: wgorold <wgorold@student.42.fr>            +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2019/06/21 16:43:44 by wgorold           #+#    #+#             */
/*   Updated: 2019/06/21 19:28:38 by wgorold          ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

#include "longd.h"
# define BOOST_ON 1

char *boost4096()
{
	return "6330914513040438074083420906343308371870292061311151946123766279817643142031003095806213018467798337581892254089291148705838414780196166290442007547130259182194886923736471756481228657080555613349113740709238710529565547689448177184264771029649970906995979989503527620583223743675641871091799987440370446582438076296316192095401360831236184517732461750503289194765492147006160448498782877865933692212003967895094931609623225607154353234592879484551979724882724850904311386011724971551169933150972899545319517094104874215735820739146361299705845915766008767109613132028967910724382012268067800835381375280165423195056083207164912944765952684874432140038995220555218636482948131221576563381908817385286973125103391149636163899670559628802792301550583338663905761607148009431409810015746949362781187804376944344197328136841925889555383961455124177689932795105209503446966203039643282343549759950490620910365096495877871886798396866009208953877797644119068110478404821704073085078097086947166854434864332765472177939388136736226495581100708244138173834310951630438999073456796595497725631587806323627063975818343757897382629344176010980438557994391186288486547551797093593823843324830873837409424699752834266170172571966052513141888834401";
}

char *boost8192()
{
	return "6982975175745665056817991667850598646756080909641871853045066627224123217411583345780565953610724522560167345180006792288140669869815108202324428327458135648287933200391300792630430567655763978362123111457682284258559331440819819806986905586837475168910641012241873278114169503780538572329008253331762693668084241237108824009036098823383263187285537941654573695075818954148394699257670633696950390906803793493075564793098352589906112945904485858345830907791222497177070727708301885066755208679107734740164574587634047164817225259493278295543724094045958325627634388921131947341500354496338651460538705816349615664033988030336691379858796768026772359351283773206098101539056570261546354926972266816456707807911594598592011286204324076326431607564498383965803024952681321302510549968077892638251486647747397013787065516720212992045117516125655308195678519712323968469700348038188821605594570972244992003659181858371670438463413909713939703518775182669678818086689269447839169301757058415532248526089680925493636772263078225902734754082737353039279028701822103817149141574204235878345843303142284716588926163563067278941849126278687304179811281495046538030695061122568951681850483940153183581677278477774000398558114028000658377257789747292795114592715485970901651265394500872537097692198750558790807706398283569347538054385945270314002130765520745353127800705136665593344324965199876335455767358780208363997511268633838268562631167254136573673846550606247119950141472424141691999339547280964340851165172701494677796258108348442720973837243674819542892237690294578654639401142364038780250619576720194657290132207201827315756607518045176072802163626007589690268549476163281207110930799536578681153990735947047618247782384349375884045660135936047811816441961298036995343267245008616159046261525368316934230794661220348280375051236872307459266698475012435152941941721655110505565150211690096999407371583869787527948619965490071672971056025403887267205708637722342273475636229984619157577151315422182442837042427406385653946233108754058346520295016160094180415287766045499434965157165508804439726968672578198293485421553925306247484100654632135001193565745910361050532590885087925090086385356200069700100027199975352520097101036881093550921210654239062456881776918361953161586969515028408225289068359892912488926098709974557705679790163604817710280789013725207516971927593227891025254324626125929119481331279816872381342962326991614628442682873374424892649295149165318470901";
}

char *boost12288()
{
	return "6503560415305931203601921825743262316874855356382454867686737577846023214245506600297817696027509426431155595840778988031035510392912987383804308485209789761269566735275579456268586513223891168233470011531961624096669013144938321347846782716856662688065757222290843031163089623934538535241485165838370317760164880609553139146329932886605943217808990934015264831688767526857998593772431891450827865186827437335656924204890398347875670987179851537267134566715811069521538992924550601792402863111607177415166172812382189563134467490251332585319905322697002952059871565387005723131165982887430622983428264678644672592849723910319206399702888365609763222736141264530233476938081893427868793078536209253249071554781286659150984912102021389689453472938945805180167513276142256161479424513389826873557384469304586379948297566247859499351394381135787525318813122684023929243108547851274391981199166378768451148006993501774051001473184207850604342367054289556051416020317810550159767658957160990429853402441762619466873929056388327069550756019006510355332231735643296003446239572085607028104125491321289359549214162567235335144104453227734685560255952671701783027937529891595126676758167258829849892702391281370971789782733265115254401076938550706522687994409437540810261525417384669268342582817675252211921028622116071530653630353188568077980406110708812920309124826015664951018993091722380136927645142414062479047670264709966949448237550027532127913626776837482562678502527646909888427573811874293860687017453872992980299980207690144118926450827007981406798426153827009594154606682711251727830321382636787367239296745882933947716259201861071296569451002242940580732117396308881809583338704753406389377686709202977848653632607731367025552662024367438246632535484974703132970651792577223687723496833446502150730471161885387147497705480698491404749999837560958168397649867794405236498931722509427203716191523065209592002747306364039130000768553442793047612176713789489411994240487488515998242963786784976035934220091919638520581670911274418740906452012854912690601782307722889189146814220955693446518788399367935929745360080068415384895975851355749640321586447512374693011139279780137461549146878957792518819782880377162088206788385095520858399574873140631952964674088499704989210456191118767590412886255663512331202351110856277751324965078168042943994681644107107551138770895260724801560216570078102373340372680342629060711129054303375985380784197065454489883241885767989625962249771682446863116614984839463988667674686001191023248094293904033971134254486464587649962506703374234223609953136118243381000835864089222910861504092736836311526764019349879393545243899302689599370698441941453320991648683575016710870340357033542730845776577802162140361798903800810528505445376952064529612555211743831676466065748501171313671084020012310576890750304006837786759728730303508873849619652786757997739747063022161354275453026421375838253555101955938402967429944735419776048014335262667259084906297996335246811156944184550489211618587979634159082905980890845225568282059695156625595278238990493318768039391814232039327965151660833935949740200199015676531679213705999348434522983027989486713124529199615637928557743962222686279411829253328015423256546860403007040293887909120283418960960697965348493075686608906658374347618084107568746432682702377134568673390320418513420804844939992597810901355142679230278395031712732421754461681673565850362582767604092074911236785385599185863757059038008415432962623536797294264729855537617850803427789622022924176315956259294791786788291163340572144152063971580680344961958587693497084107361177746037651969642719342466243359973111054168208648921268002395139758395480733403625225619311";
}

char *boost14336()
{
	return
	"63748274872900802925829162042396239233988702728718452333521145795110065707869381498121644508253319562092051081220601287939836690427327485394890941742193426188373671690114453042862817499439662805213974503158475091597827349188641303821118013791165030095747216518993273657619356707732779990796997177996578592334407535748207210760036188503212552125558146141639073912653524873854472079466998607704480903356575726813561567350433577045388114401091135940163370386937820431373426025528969178144538516285268446315439089977971962292355252069691935371206806869744504726222962796403728313406926501154042422843376587736211458236885132037652958513360784993859478109604195278940529059524107662207169963962419050329536826850524165604766854815253636761007766495495867211444543118747287062377626601354750987726880304415712097553826607039290698511627554933989225661204053028363377862142750620728320423830604428821445549574384457944459323556786650840701615956330085507516910420359231854367610828767434265997571118708110845242546761897962310103704448906146055992315914759200225089252590835268472103199758568667200545155266494906434503212437379271111088509727014539283503920165901140097590177469026693143064012261662956756352362310743845819773651825167115949141998299536006978115553391561644581251154110494744728825334655118339372830403038601127717746165260917521400492774695031472202025585957239079484118152972116608136341050071863736105873153244151600726105422935659950867863647728848790146592407495607117691426596704335467572890459856585952194712032787922099323128860288689085669971499708092695648438119781425112179299577128584940869037499126500623300300105446543602746390902808779798366519027640882195780245125249573101327946604160447254176861225369308618305705449101978432489856055315900100157041349229827551430332044582093583877261240446881385935426845892228484194395165566212936635482419996842085671569238077675531277568369164845979362982713933593152502417846731973812583818182417072261706099743170358453797545176509245518060702601991452689955503139330454754282049751318923469179786438456800252266963984471313849232125637077348736985314669616396110450232607725992008641740003444001093544991963400908773601858634908277500654746131563923697974529519815542263025662751752969382178189995097143276123965236327810024100121777388985547907271010001100566960565393637294385097662926265781987231802624741071466516602214061247515597858771265571014875308041350192169874616096316270086441060450981196223866795180680860748142595246560099528991350209047842832023681815617009618347299918391332881399755840026329473510232517686437954650551099925003924198622530487420413432167972928599795661293331907837256203009737017490124815692349249195575986824152058838226402830017088350445638160828749050475801361341322750631685188068558490353778200224862418613388746028697337395103180120436412012015017197474758504779299403434573036333177868034243701889490150705729120511436509336303290723709305899339667294605080971087336440544437237167639079462171642047388140112360376852488309350707945181072157691404252581595658564857410654896030592400954109153816070349926202904950750682468444680854268664941671705919910312550492858574395242011647952013614731693168401607940428703655077037968768047129743421570182804166668845623557227687561788063705298795167843908130148072322313983109067475394009540531923662422603157507826394749684934955607949097131005373933152141564434915082134226573673597197911818126619447584528494012742776728255708384019082162281424989160465611363786900467696565560027689741738046929907618775580835055408267000374592014941199756142287923669093101103350624203850288267284377605010391142335722560012928899788174978756291711610126418279375197645615005250181804577986369008499232804856267680057745625969895124804478197315924777495876202868469210766358232197439955470358859094780931242170131819978138043605983505205354073619827219705539740899247556773099582472943165074866247049724721375014475204655427462020564871662443031154630938095362184194826163932342820185395852226899122135592886513613972169603231487064541707807279737888342312390616808279997445322794263428531882122481914413749372939467927462492220285542463734871311802162207939475376015070574481361380132382185653955815450059400662503074199412015616843024827188797064051814398834125010590441863";
}

char *boost15360()
{
	return
	"6794336887356277587448399455181449914803667931966663392890643351186172532229461021797936335469678376012401367246429397497409670449153489743535441085123453187321533861682427898437969065116290578044192618743037433630126711194763197533473584477098919631264869892734987179957153574006251936393888690923383920616631577067610453950610865466139768843275389145284730134649909863669799617326707283256763956010422566148644272444692187271314912879138604404423953353918972974712324259764720333694941000455400320270025779577759214303022716175215563273916863704517530719981278624475629954863333107798219138060509737516637877758904218952933252882439419863723360778180588994343159753882296112518348186440003811983917511454372973271225828762909963733292960317596003513162937668195717933068707752740311260448519512456276109306296793503957764173265594468218595708864324352551020979067055657552869707444009532752393156846632594755152905789020780718333495128190880094091396114560541355946497655499047740873023228766431642715700312796270147260606337633575182925683049891194911238900936483414296250039791952338640940000010852485289746618646682732230225327800777922759924553210976343280902748006427873629755771502720201495272889268012004578876257623204081085989824988292942959190123603344325537104112926652694690768119436115205835694837232857354953125547950374135670773940215308947160435092821927366157617677707127937158200008119548967242205099653075415517011942772431485538874283081737355886161120942356660924099638912604363071664508181097305663662954204065446813933319723893946388978821980358874382015769527017983898830381954676531954668477193234268059305458812801825413047265712569209216802638380544222071377013862644293125286718706129019989988417818469247500404292194239239678193516219226246926879349467209935830775942145864065179417492237759186927841077712273891827440694468867699244892231575686687512789664054634530585203356880105254819888867702877491062398709478684888986125962151313683217040332566939585755955182617590922038801861764617684983052834149015682909112233236090827287925028094190797522156380823855149427053093475160293645225090285255821774928574772946254907569683913517152881322420402265283941127016597051740099864721159975378960260980109343324686494939984592625018356511959970173102304839666628704719256232178341354296437711829045926412255430103456156042145501278919852825214058599331502192828381084564095481788831987031738500762414013976969816938014958575904622061789010241168957261678855625417025890073747549261278792033091417093363061444380232005329122630848059445401805146279559103941595864194066315386282817429386732005777531268548435909079598735468834023281779416195025510398522114252414312013769727877358453940786512826025614349749289120819285780238087990964790688095262348022226194374456790010211052695508368878194052433752629734531910084359014392702018926649676631020893956146144601993261827340091555017631500649217999441098766252549334651623944113584886334765155253896007309604414210692421258142627871285882884405351173136085827353851231145301140983644165378309436878837220111137239182156123307327972659136188108694105229731034666007797993969193560506383792327983805613399797058311181794004814371410751144945420359800850089626035320823192485818102108074902584349843234702491404903141760689671802410966082275420029281015519067609170407989106986388092267275851437642163662045523870752820434610147217130960779473736835750221354912748364871688101730591308601513792389228973956322261497636187504732512901612991488282697356223606939006970861521592682236883331487110346023008394503764831902502434752259589993180781657367399327231320316243495081072907401680841885372213657944900169474242538644855547664626067569879880886383358597935831177139363851534868626265329083007307639828108204817916013437254627641302727454371019758712013196762993718545821533768735232580992790199603066819463346953602984770605179007888263114793327447500405399101870388332021670567627748418476544873014511588313417732792157434757329171366516447820814977048564227749492210389372899672042836560393206416727652431488304707557199300223471443384091765210791364502310135359955279485867392586997660464833006493013061451430651347343219353033852625424594378951145859094025934489593144480776648387387720147758956821119856722982817996674683206789301560566665807490671378601536792428414530814818653398878807406426915445471556633058021582026358075496904297914021331112195925557419743787012306944969688087503965556484156535690740304950890323412529312338589300928897436909217912445346104148517655514289373527160988807570538603637973324971644537976229755415042211018166";
}

char *boost0()
{
	return ("1");
}

void	boost_pos(t_str_f *input, int pwr, int *curr)
{
	int idx_boost;
	int idx;
	init_t_str_f(input);

	int num[6] = { 15360, 14336, 12288, 8192, 4096, 0 };
	int exp[6] = { 4623, 4315, 3699, 2466, 1233, 0 };
	char *(*vals[6])() = { &boost15360, &boost14336, &boost12288, &boost8192, &boost4096,  &boost0 };

	idx_boost = -1;
	while (BOOST_ON && ++idx_boost < 6)
	{
		if (pwr >= num[idx_boost] && *curr < num[idx_boost])
		{
			if (idx_boost == 0)
			{
				boost15360_(input);
				*curr = num[idx_boost];
				return ;
			}

			char *boost = vals[idx_boost]();
			idx = -1;
			while(boost[++idx])
				input->ent[idx] = boost[idx] - 48;

			input->idx_ent = exp[idx_boost] + 1;
			input->exp_ent = exp[idx_boost];
			*curr = num[idx_boost];
			return ;
		}
	}
	if (pwr == 0 || (pwr > 0 && *curr == 0))
	{
		input->ent[0] = 1;
		input->idx_ent = 1;
		input->exp_ent = 0;
		return ;
	}
}
